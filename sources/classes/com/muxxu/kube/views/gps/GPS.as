package com.muxxu.kube.views.gps {	import com.muxxu.kube.events.KTModelEvent;	import com.muxxu.kube.views.AbstractKTView;	import com.muxxu.kube.views.gps.components.GPSForm;	import com.muxxu.kube.views.gps.components.GPSMap;	import com.muxxu.kube.views.gps.components.GPSKPPList;	import com.muxxu.kube.vo.Message;	import com.muxxu.kube.vo.MessageIds;	import com.muxxu.kube.vo.Templates;	import com.nurun.structure.mvc.model.events.IModelEvent;	import flash.events.Event;	/**	 * 	 * @author  Francois	 */	public class GPS extends AbstractKTView {				private var _map:GPSMap;
		private var _gpsForm:GPSForm;
		private var _kppList:GPSKPPList;
								/* *********** *		 * CONSTRUCTOR *		 * *********** */		/**		 * Creates an instance of <code>GPS</code>.		 */		public function GPS() {			super();		}						/* ***************** *		 * GETTERS / SETTERS *		 * ***************** */		/* ****** *		 * PUBLIC *		 * ****** */		/**		 * Called on model's update.		 */		override public function update(e:IModelEvent):void {			var message:Message = KTModelEvent(e).message;						if(message.id == MessageIds.CHANGE_VIEW){				if(message.data == Templates.GPS){					show();					addChildOutsidePane(_map);					addChildOutsidePane(_gpsForm);					addChildOutsidePane(_kppList);					_map.enable();					_gpsForm.enable();				}else if(containsOutsidePane(_map)){					hide();					removeChildOutsidePane(_map);					removeChildOutsidePane(_gpsForm);					removeChildOutsidePane(_kppList);					_map.disable();					_gpsForm.disable();				}			}		}						/* ******* *		 * PRIVATE *		 * ******* */		/**		 * Initializes the class.		 */		override protected function initialize():void {			super.initialize();			_map		= addChildOutsidePane(new GPSMap()) as GPSMap;			_map.disable();			_gpsForm	= addChildOutsidePane(new GPSForm()) as GPSForm;			_kppList	= addChildOutsidePane(new GPSKPPList()) as GPSKPPList;						_gpsForm.addEventListener(Event.RESIZE,		computePositions);		}				/**		 * Resizes and replaces the elements.		 */		override protected function computePositions(event:Event = null):void {			_gpsForm.width	= _width;			_gpsForm.y		= Math.round(_height - _gpsForm.height);						_map.width		= _width;			_map.height		= _height - _gpsForm.height;						_kppList.width	= _width;			_kppList.height	= _height - _gpsForm.height;		}			}}