package com.muxxu.kube.views.ads {	import com.muxxu.kube.views.ads.components.AdsList;
	import com.muxxu.kube.views.ads.components.AddAdForm;
	import com.muxxu.kube.events.KTModelEvent;	import com.muxxu.kube.views.AbstractKTView;	import com.muxxu.kube.vo.Message;	import com.muxxu.kube.vo.MessageIds;	import com.muxxu.kube.vo.Templates;	import com.nurun.structure.mvc.model.events.IModelEvent;	import flash.events.Event;	/**	 * 	 * @author Francois	 */	public class AdsView extends AbstractKTView {				private var _addAdForm:AddAdForm;		private var _list:AdsList;
								/* *********** *		 * CONSTRUCTOR *		 * *********** */		/**		 * Creates an instance of <code>AdsView</code>.		 */		public function AdsView() {			super();		}						/* ***************** *		 * GETTERS / SETTERS *		 * ***************** */		/* ****** *		 * PUBLIC *		 * ****** */		/**		 * Called when model's state changes		 */		override public function update(e:IModelEvent):void {			var message:Message = KTModelEvent(e).message;						if(message.id == MessageIds.CHANGE_VIEW){				if(message.data == Templates.ADS) {					show();					addChildOutsidePane(_addAdForm);					_list.load();				}else if(contains(_addAdForm)) {					hide();					removeChildOutsidePane(_addAdForm);				}			}		}						/* ******* *		 * PRIVATE *		 * ******* */		/**		 * Initialize the class.		 */		override protected function initialize():void {			super.initialize();			_list		= addChild(new AdsList()) as AdsList;			_addAdForm	= addChildOutsidePane(new AddAdForm()) as AddAdForm;						_list.addEventListener(Event.RESIZE,		computePositions);			_addAdForm.addEventListener(Event.RESIZE,	computePositions);		}		/**		 * Resize and replace the elements.		 */		override protected function computePositions(event:Event = null):void {			super.computePositions();			_addAdForm.width	= _width;			_addAdForm.y		= Math.round(_height - _addAdForm.height);			_pane.height		= _height - _addAdForm.height;			_pane.update(true);			_list.height		= _pane.visibleHeight;//Do not put this line AFTER the "width" definition!			_list.width			= _pane.visibleWidth;		}	}}